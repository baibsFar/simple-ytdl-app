<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script defer src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script defer src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
	<title>Youtube Downloader</title>
</head>
<body>

	<div class="container">
		<h1 class="font-weight-bold my-5">How to download</h1>
		<ol>
			<li>Push <strong>Download</strong>button</li>
			<li>Push <strong>CTRL + S</strong></li>
		</ol>
		<h1 class="font-weight-bold my-5">Available options for "<%= videoTitle %>"</h1>
		<a href="/" class="btn btn-primary mb-5">Return</a>
		<table class="table">
      <thead>
        <tr>
          <th scope="col">MimeTYPE</th>
					<th scope="col">Quality</th>
          <th scope="col">Audio</th>
          <th scope="col">Video</th>
          <th scope="col">Download</th>
        </tr>
      </thead>
      <tbody>
				<% formats.forEach(format => { %>
					<tr>
						<td class="font-weight-bold">
							<%= format.mimeType.split(';')[0] %>
						</td>
						<td class="font-weight-bold">
							<%= format.qualityLabel %>
						</td>
						<td>
							<% if (format.hasAudio) { %>
							<iconify-icon class="text-success" icon="iconoir:sound-low" width="38"></iconify-icon>
							<% } else { %>
							<iconify-icon class="text-danger" icon="iconoir:sound-off" width="38"></iconify-icon>
							<% } %>
						</td>
						<td>
							<% if (format.hasVideo) { %>
							<iconify-icon class="text-success" icon="material-symbols:video-camera-front" width="38"></iconify-icon>
							<% } else { %>
							<iconify-icon class="text-danger" icon="material-symbols:video-camera-front-off" width="38"></iconify-icon>
							<% } %>
						</td>
						<td>
							<a 
								href="<%= format.url %>"
								class="btn btn-primary"
								download="<%= videoTitle + '.' + format.container %>"
								target="_blank">Download</a>
						</td>
					</tr>
				<% }) %>
      </tbody>
    </table>
	</div>
	
</body>
</html>